from os.path import dirname, join, abspath, isdir
from os import listdir
import sys
import os

if "SNAP" in os.environ:
    app_path = os.environ['SNAP']
else:
    app_path = abspath(join(dirname(__file__), '..'))
sys.path.append(join(app_path, 'src'))

lib_path = join(app_path, 'lib')
libs = [join(lib_path, item) for item in listdir(lib_path) if isdir(join(lib_path, item))]
map(sys.path.append, libs)

from nextcloud.installer import OwncloudInstaller
OwncloudInstaller().install()
